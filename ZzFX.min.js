// ZzFX - Zuper Zmall Zound Zynth - Minified Version - MIT License - Copyright 2019 Frank Force
function ZZFXLib(){this.x=new AudioContext;this.r=Date.now();this.b=0;this.volume=.5;this.randomness=.1}ZZFXLib.prototype.z=function(c,d){var a=this.G(c);for(b in d)a[b]=d[b];var b=this.G(0);for(var e in a)b[e]=a[e];return this.Z(b.volume,b.randomness,b.frequency,b.length,b.attack,b.slide,b.noise,b.modulation,b.modulationPhase)};
ZZFXLib.prototype.Z=function(c,d,a,b,e,g,h,k,l){b=void 0===b?1:b;e=void 0===e?.1:e;g=void 0===g?0:g;h=void 0===h?0:h;k=void 0===k?0:k;l=void 0===l?0:l;c*=this.volume;a*=2*Math.PI/44100;a*=1+d*(2*this.R()-1);g*=1E3*Math.PI/Math.pow(44100,2);b=0<b?44100*(10<b?10:b)|0:1;e*=b|0;k*=2*Math.PI/44100;l*=Math.PI;d=[];for(var m=0,n=0,f=0;f<b;++f)d[f]=c*Math.cos(m*a*Math.cos(n*k+l))*(f<e?f/e:1-(f-e)/(b-e)),m+=1+h*(2*this.R()-1),n+=1+h*(2*this.R()-1),a+=g;this.b=d;c=this.x.createBuffer(1,d.length,44100);a=this.x.createBufferSource();
c.getChannelData(0).set(d);a.buffer=c;a.connect(this.x.destination);a.start();return a};
ZZFXLib.prototype.G=function(c){var d=this.r;this.r=c;for(var a=9;a--;)this.R();a={};a.seed=c;a.volume=1;a.randomness=c?this.randomness:0;a.frequency=c?2E3*Math.pow(this.R(),2)|0:220;a.slide=c?parseFloat((10*Math.pow(this.R(),3)).toFixed(1)):0;a.length=c?parseFloat((.1+this.R()).toFixed(1)):1;a.attack=c?parseFloat(this.R().toFixed(2)):.1;a.noise=c?parseFloat((5*Math.pow(this.R(),3)).toFixed(1)):0;a.modulation=c?parseFloat((99*Math.pow(this.R(),5)).toFixed(1)):0;a.modulationPhase=c?parseFloat(this.R().toFixed(2)):
0;this.r=d;return a};ZZFXLib.prototype.M=function(c,d){return c*Math.pow(2,d/12)};ZZFXLib.prototype.R=function(){this.r^=this.r<<13;this.r^=this.r>>7;this.r^=this.r<<17;return Math.abs(this.r)%1E9/1E9};var ZZFX=new ZZFXLib;