// ZzFX - Zuper Zmall Zound Zynth - Minified Version - MIT License - Copyright 2019 Frank Force
function ZZFXLib(){this.x=new AudioContext,this.r=Date.now(),this.buffer=0,this.volume=.5,this.randomness=.1;this.z=function(t,e){let o=this.Generate(t);for(let i in e)o[i]=e[i];return this.Z(o.volume,o.randomness,o.frequency,o.length,o.attack,o.f,o.c,o.a,o.b)},this.Z=function(t,e,i,o=1,r=.1,h=0,n=0,s=0,a=0){let u=2*Math.PI;t*=this.volume,i*=u/44100*(1+e*(2*Math.random()-1)),h*=500*u/44100**2,r=(o=0<o?44100*(10<o?10:o)|0:1)*r|0,s*=u/44100,a*=u/2,e=[];for(let f=0,u=0,d=0;d<o;++d)e[d]=t*Math.cos(u*i*Math.cos(f*s+a))*(d<r?d/r:1-(d-r)/(o-r)),u+=1+n*(2*Math.random()-1),f+=1+n*(2*Math.random()-1),i+=h;return this.buffer=e,t=this.x.createBuffer(1,e.length,44100),i=this.x.createBufferSource(),t.getChannelData(0).set(e),i.buffer=t,i.connect(this.x.destination),i.start(),i},this.Generate=function(t){let e=this.r;this.r=t;for(let i=9;i--;)this.R();return t={g:t,volume:1,randomness:t?this.randomness:0,frequency:t?2e3*this.R()**2|0:220,f:t?(10*this.R()**3).toFixed(1):0,length:t?(.1+this.R()).toFixed(1):1,attack:t?this.R().toFixed(2):.1,c:t?(5*this.R()**3).toFixed(1):0,a:t?(99*this.R()**5).toFixed(1):0,b:t?this.R().toFixed(2):0},this.r=e,t},this.Note=function(t,e){return t*(2**(e/12))},this.R=function(){return this.r^=this.r<<13,this.r^=this.r>>7,this.r^=this.r<<17,Math.abs(this.r)%1e9/1e9}};let ZZFX=new ZZFXLib;