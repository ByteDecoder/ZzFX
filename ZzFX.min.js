function ZZFXLib(){this.x=new AudioContext;this.r=Date.now();this.b=0;this.volume=.5;this.randomness=.1}ZZFXLib.prototype.z=function(b,d){var a=d;if(b){a=this.G(b);for(var c in d)a[c]=d[c]}c=this.G(0);for(var e in a)c[e]=a[e];return this.Z(c.volume,c.randomness,c.frequency,c.slide,c.length,c.attack,c.noise,c.modulation,c.modulationPhase)};
ZZFXLib.prototype.Z=function(b,d,a,c,e,g,h,k,l){b*=this.volume;a*=2*Math.PI/44100;a*=1+d*(2*this.R()-1);c*=1E3*Math.PI/Math.pow(44100,2);e=0<e?44100*(10<e?10:e)|0:1;g*=e|0;k*=2*Math.PI/44100;l*=Math.PI;d=[];for(var m=0,n=0,f=0;f<e;++f)d[f]=b*Math.cos(m*a*Math.cos(n*k+l))*(f<g?f/g:1-(f-g)/(e-g)),m+=1+h*(2*this.R()-1),n+=1+h*(2*this.R()-1),a+=c;this.b=d;b=this.x.createBuffer(1,d.length,44100);a=this.x.createBufferSource();b.getChannelData(0).set(d);a.buffer=b;a.connect(this.x.destination);a.start();
return a};
ZZFXLib.prototype.G=function(b){var d=this.r;this.r=b;for(var a=9;a--;)this.R();a={};a.seed=b;a.volume=1;a.randomness=b?this.randomness:0;a.frequency=b?2E3*Math.pow(this.R(),2)|0:220;a.slide=b?parseFloat((10*Math.pow(this.R(),3)).toFixed(1)):0;a.length=b?parseFloat((.1+this.R()).toFixed(1)):1;a.attack=b?parseFloat(this.R().toFixed(2)):.1;a.noise=b?parseFloat((5*Math.pow(this.R(),3)).toFixed(1)):0;a.modulation=b?parseFloat((99*Math.pow(this.R(),5)).toFixed(1)):0;a.modulationPhase=b?parseFloat(this.R().toFixed(2)):0;
this.r=d;return a};ZZFXLib.prototype.M=function(b,d){return b*Math.pow(2,d/12)};ZZFXLib.prototype.R=function(){this.r^=this.r<<13;this.r^=this.r>>7;this.r^=this.r<<17;return Math.abs(this.r)%1E9/1E9};var ZZFX=new ZZFXLib;